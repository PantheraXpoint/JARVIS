{
  "tasks": [
    {
      "id": "source",
      "model_id": "none",
      "inputs_from_upstreams": [
        "none"
      ],
      "upstreams": [
        "none"
      ],
      "outputs_for_downstreams": [
        "image"
      ],
      "downstreams": [
        "object-detection-general"
      ],
      "model-chosen-reason": "Source task doesn't need a model",
      "sample-reasoning": {
        "object-detection-general": "In a normal shopping mall scene, detecting humans and vehicles is essential for ensuring safety and monitoring customer behavior."
      }
    },
    {
      "id": "object-detection-general",
      "model_id": "yolov5s",
      "inputs_from_upstreams": [
        "image"
      ],
      "upstreams": [
        "source"
      ],
      "outputs_for_downstreams": [
        "bounding boxes"
      ],
      "downstreams": [
        "cloth-color-classification",
        "face-detection"
      ],
      "model-chosen-reason": "The scenario involves a normal scene in a shopping mall with people walking and shopping, and the task requires object detection of people. YOLOv5s provides a good balance between speed and accuracy, making it suitable for real-time applications in this context. Its smaller size compared to YOLOv5m and YOLOv5n makes it more efficient, which is beneficial for processing images in a shopping mall environment where real-time detection is crucial.",
      "sample-reasoning": {
        "cloth-color-classification": "In a normal shopping mall scene, classifying clothing colors helps to better recognize and identify individuals.",
        "face-detection": "In a normal shopping mall scene, detecting faces helps in analyzing customer demographics and behaviors."
      }
    },
    {
      "id": "cloth-color-classification",
      "model_id": "fashioncolor",
      "inputs_from_upstreams": [
        "person bounding boxes"
      ],
      "upstreams": [
        "object-detection-general"
      ],
      "outputs_for_downstreams": [
        "cloth color labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The scenario involves a normal scene in a shopping mall with people wearing clothes. The fashioncolor model is specifically trained to classify and identify colors in clothing items, making it highly suitable for the cloth-color-classification task. Given the presence of people in various clothing items, this model will accurately classify the colors of the clothes they are wearing.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "face-detection",
      "model_id": "retina1face",
      "inputs_from_upstreams": [
        "person bounding boxes"
      ],
      "upstreams": [
        "object-detection-general"
      ],
      "outputs_for_downstreams": [
        "face bounding boxes"
      ],
      "downstreams": [
        "gender-classification",
        "emotion-classification",
        "face-recognition"
      ],
      "model-chosen-reason": "The scenario involves a normal scene in a shopping mall with people walking and shopping, and the task requires face detection within specified bounding boxes. The RetinaFace on bounding boxes model is specifically designed for efficient face detection within given areas, making it well-suited for this task in the described environment.",
      "sample-reasoning": {
        "gender-classification": "In a normal shopping mall scene, determining gender from detected faces is important for security and customer analysis.",
        "emotion-classification": "In a normal shopping mall scene, analyzing facial expressions is important for security and customer satisfaction.",
        "face-recognition": "In a normal shopping mall scene, identifying individuals is important for security and personalized services."
      }
    },
    {
      "id": "gender-classification",
      "model_id": "gender",
      "inputs_from_upstreams": [
        "face bounding boxes"
      ],
      "upstreams": [
        "face-detection"
      ],
      "outputs_for_downstreams": [
        "gender labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The 'Gender Classifier' model is specifically designed for gender classification tasks involving faces. Given the normal scene in a shopping mall without any special conditions, this model is well-suited to accurately classify genders of individuals based on face bounding boxes provided as input.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "emotion-classification",
      "model_id": "emotion",
      "inputs_from_upstreams": [
        "face bounding boxes"
      ],
      "upstreams": [
        "face-detection"
      ],
      "outputs_for_downstreams": [
        "emotion labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The scenario involves a normal scene in a shopping mall with people, and the task requires emotion classification of faces. The 'Emotion Classifier' model is specifically trained for this purpose and can accurately identify emotions from face bounding boxes, making it the most suitable choice for this context.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "face-recognition",
      "model_id": "arcface",
      "inputs_from_upstreams": [
        "face bounding boxes"
      ],
      "upstreams": [
        "face-detection"
      ],
      "outputs_for_downstreams": [
        "identity labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The ArcFace model is a state-of-the-art face recognition model that is well-suited for recognizing and verifying identities of faces in images. Given the normal scene in a shopping mall with people walking, standing, and shopping, this model will effectively handle the task of face recognition without the need for specialized handling of emergency or aggressive situations. Its accuracy and robustness make it the best choice for this scenario.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "pipeline-end",
      "model_id": "none",
      "inputs_from_upstreams": [
        "various task outputs"
      ],
      "upstreams": [
        "cloth-color-classification",
        "gender-classification",
        "emotion-classification",
        "face-recognition"
      ],
      "outputs_for_downstreams": [
        "none"
      ],
      "downstreams": [],
      "model-chosen-reason": "Pipeline End task doesn't need a model",
      "sample-reasoning": {}
    }
  ]
}