{
  "tasks": [
    {
      "id": "source",
      "model_id": "none",
      "inputs_from_upstreams": [
        "none"
      ],
      "upstreams": [
        "none"
      ],
      "outputs_for_downstreams": [
        "image"
      ],
      "downstreams": [
        "object-detection-general"
      ],
      "model-chosen-reason": "Source task doesn't need a model",
      "sample-reasoning": {
        "object-detection-general": "Detecting humans and objects in the scene to ensure safety and analyze the situation."
      }
    },
    {
      "id": "object-detection-general",
      "model_id": "yolov5m",
      "inputs_from_upstreams": [
        "image"
      ],
      "upstreams": [
        "source"
      ],
      "outputs_for_downstreams": [
        "bounding boxes"
      ],
      "downstreams": [
        "face-detection",
        "cloth-color-classification",
        "human-pose-detection"
      ],
      "model-chosen-reason": "The YOLOv5m model provides a good trade-off between speed and accuracy, making it suitable for real-time object detection tasks. Given the scenario involves detecting a person who might be unconscious or asleep, this model can effectively identify and localize the person in the image. Its medium size ensures it can handle the complexity of the scene with trees, buildings, and other potential distractions without compromising performance too much.",
      "sample-reasoning": {
        "face-detection": "Detecting faces to identify individuals in the scene.",
        "cloth-color-classification": "Classifying clothing colors to better recognize and identify individuals.",
        "human-pose-detection": "Analyzing human poses to determine if the person is unconscious or asleep."
      }
    },
    {
      "id": "face-detection",
      "model_id": "retina1face",
      "inputs_from_upstreams": [
        "person bounding boxes"
      ],
      "upstreams": [
        "object-detection-general"
      ],
      "outputs_for_downstreams": [
        "face bounding boxes"
      ],
      "downstreams": [
        "gender-classification",
        "face-recognition"
      ],
      "model-chosen-reason": "The scenario involves detecting a person who may be unconscious or asleep, and the task requires face detection within specified bounding boxes. The RetinaFace model, specifically the optimized RetinaFace on bounding boxes, is well-suited for this task due to its accuracy in face detection and efficiency in processing within given boundaries. Given the presence of people walking by and a building in the background, the model's robustness to varying environmental conditions makes it a reliable choice for this scenario.",
      "sample-reasoning": {
        "gender-classification": "Determining gender to provide more details about the individual.",
        "face-recognition": "Identifying the individual for security and emergency response."
      }
    },
    {
      "id": "gender-classification",
      "model_id": "gender",
      "inputs_from_upstreams": [
        "face bounding boxes"
      ],
      "upstreams": [
        "face-detection"
      ],
      "outputs_for_downstreams": [
        "gender labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The scenario involves identifying individuals, and the task requires classifying gender based on face bounding boxes. The 'Gender Classifier' model is specifically designed for this purpose, making it the most suitable choice for the given context.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "face-recognition",
      "model_id": "arcface",
      "inputs_from_upstreams": [
        "face bounding boxes"
      ],
      "upstreams": [
        "face-detection"
      ],
      "outputs_for_downstreams": [
        "identity labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The ArcFace model is a state-of-the-art face recognition model that is highly accurate in identifying and verifying faces in images. Given the scenario involves recognizing a person who might be unconscious or asleep, the ArcFace model's robustness and accuracy make it the best choice for this task. It is specifically designed for face recognition, which aligns perfectly with the task requirements.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "cloth-color-classification",
      "model_id": "fashioncolor",
      "inputs_from_upstreams": [
        "person bounding boxes"
      ],
      "upstreams": [
        "object-detection-general"
      ],
      "outputs_for_downstreams": [
        "cloth color labels"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The scenario involves a person lying on the grass, and the task requires classifying cloth colors. The fashioncolor model is specifically trained to classify and identify colors in clothing items, making it the most suitable choice for this task. Although the scenario includes people walking by, the focus is on the person's clothing, aligning well with the model's specialization.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "human-pose-detection",
      "model_id": "movenet",
      "inputs_from_upstreams": [
        "person bounding boxes"
      ],
      "upstreams": [
        "object-detection-general"
      ],
      "outputs_for_downstreams": [
        "pose key points"
      ],
      "downstreams": [
        "pipeline-end"
      ],
      "model-chosen-reason": "The MoveNet model is a fast and accurate pose detection model that is well-suited for identifying key points of the human body in images. Given the scenario where a person is lying on the grass and people are walking by, MoveNet can effectively detect the human pose and key points, making it the best choice for this task.",
      "sample-reasoning": {
        "pipeline-end": "Finalizing the pipeline after analysis."
      }
    },
    {
      "id": "pipeline-end",
      "model_id": "none",
      "inputs_from_upstreams": [
        "various task outputs"
      ],
      "upstreams": [
        "gender-classification",
        "face-recognition",
        "cloth-color-classification",
        "human-pose-detection"
      ],
      "outputs_for_downstreams": [
        "none"
      ],
      "downstreams": [],
      "model-chosen-reason": "Pipeline End task doesn't need a model",
      "sample-reasoning": {}
    }
  ]
}