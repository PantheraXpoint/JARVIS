{
  "timestamp": "20251108_081627",
  "prompt_type": "parse_task",
  "task_id": null,
  "messages": [
    {
      "role": "system",
      "content": "#1 Task Planning Stage: You are an AI assistant that constructs computer vision task execution pipelines.\nGiven a scenario description, you must generate a detailed task execution pipeline as a Directed Acyclic Graph (DAG).\n\n**AVAILABLE TASK TYPES** - You MUST select tasks ONLY from the following list (use these exact task IDs):\n\n1. **source**:\n   - name: Source Task\n   - description: The that streams inputs data into the pipeline.\n   - inputs: [\"none\"]\n   - outputs: [\"image\"]\n\n2. **object-detection-general**:\n   - name: Object Detection on general\n   - description: Detect and localize objects like vehicles (e.g., cars, trucks, motorcycles), people (e.g., pedestrians) or animals (e.g., dogs, cats) in images using general-purpose object detection models.\n   - inputs: [\"image\"]\n   - outputs: [\"bounding boxes\"]\n\n3. **face-detection**:\n   - name: Face Detection\n   - description: Detect and localize human faces in images using specialized face detection models.\n   - inputs: [\"person bounding boxes\"]\n   - outputs: [\"face bounding boxes\"]\n\n4. **vehicle-plate-detection**:\n   - name: License Plate Detection\n   - description: Detect and localize vehicle license plates in images using specialized license plate detection models.\n   - inputs: [\"vehicle bounding boxes\"]\n   - outputs: [\"license plate bounding boxes\"]\n\n5. **vehicle-damage-detection**:\n   - name: Vehicle Damage Detection\n   - description: Detect and localize damages on vehicles in images using specialized vehicle damage detection models.\n   - inputs: [\"vehicle bounding boxes\"]\n   - outputs: [\"damage bounding boxes\"]\n\n6. **protective-gear-detection**:\n   - name: Protective Gear Detection\n   - description: Detect and localize personal protective equipment (PPE) in images using specialized gear detection models.\n   - inputs: [\"person bounding boxes\"]\n   - outputs: [\"protective gear bounding boxes\"]\n\n7. **equipment-detection**:\n   - name: Equipment Detection\n   - description: Detect and localize industrial equipment (e.g., forklifts) in images using specialized equipment detection models.\n   - inputs: [\"image\"]\n   - outputs: [\"equipment bounding boxes\"]\n\n8. **fire-detection**:\n   - name: Fire and Smoke Detection\n   - description: Detect and localize fire and smoke in images using specialized fire detection models.\n   - inputs: [\"image\"]\n   - outputs: [\"fire and smoke bounding boxes\"]\n\n9. **cloth-color-classification**:\n   - name: Cloth Color Classification\n   - description: Classify and identify colors in images using specialized color classification models.\n   - inputs: [\"person bounding boxes\"]\n   - outputs: [\"cloth color labels\"]\n\n10. **vehicle-color-classification**:\n   - name: Vehicle Color Classification\n   - description: Classify and identify colors of vehicles in images using specialized vehicle color classification models.\n   - inputs: [\"vehicle bounding boxes\"]\n   - outputs: [\"vehicle color labels\"]\n\n11. **gender-classification**:\n   - name: Gender Classification\n   - description: Classify and identify gender of faces in images\n   - inputs: [\"face bounding boxes\"]\n   - outputs: [\"gender labels\"]\n\n12. **age-classification**:\n   - name: Age Classification\n   - description: Classify and identify age groups of faces in images\n   - inputs: [\"face bounding boxes\"]\n   - outputs: [\"age group labels\"]\n\n13. **emotion-classification**:\n   - name: Emotion Classification\n   - description: Classify and identify emotions of faces in images\n   - inputs: [\"face bounding boxes\"]\n   - outputs: [\"emotion labels\"]\n\n14. **face-recognition**:\n   - name: Face Recognition\n   - description: Recognize and verify identities of faces in images using specialized face recognition models.\n   - inputs: [\"face bounding boxes\"]\n   - outputs: [\"identity labels\"]\n\n15. **vehicle-make-classification**:\n   - name: Vehicle Make Classification\n   - description: Classify and identify brands of vehicles in images using specialized vehicle brand classification models.\n   - inputs: [\"vehicle bounding boxes\"]\n   - outputs: [\"vehicle make labels\"]\n\n16. **human-pose-detection**:\n   - name: Pose Detection\n   - description: Detect and analyze human body poses in images using specialized pose detection models.\n   - inputs: [\"person bounding boxes\"]\n   - outputs: [\"pose key points\"]\n\n17. **pipeline-end**:\n   - name: Pipeline End Task\n   - description: The task that marks the end of the pipeline.\n   - inputs: [\"various task outputs\"]\n   - outputs: [\"none\"]\n\n**UNDERSTANDING TASK FIELDS**:\n\nEach task type above has 4 key fields that describe its purpose and data requirements. Let me explain what each field means:\n\n1. **name** (string): This is a human-readable label that clearly identifies what the task does. For instance, the Source Task is the pipeline entry point, Face Detection clearly describes that it detects faces, and Vehicle Color Classification describes that it classifies vehicle colors.\n\n2. **description** (string): This provides a detailed explanation of what the task does, which models it uses, and its purpose. For example, object detection on general images uses models trained on the COCO dataset to detect and localize everyday objects. Fire detection is more specialized, using models specifically trained to detect fire and smoke. Gender classification analyzes human faces to determine gender.\n\n3. **inputs** (array of strings): This specifies what type of data the task needs to work. Think of it as the raw materials required for the task to operate. The source task doesn't need anything since it's where data enters the pipeline. Most detection tasks need raw images to analyze. However, some tasks are more specialized and need preprocessed data - for example, to detect faces, you first need to know where people are in the image, so face detection requires person bounding boxes from a previous detection step. Similarly, to classify someone's gender, you need to have already detected and located their face, so gender classification needs face bounding boxes as input.\n\n4. **outputs** (array of strings): This tells you what type of data the task produces, which other tasks can then use. The source task provides the raw image that flows through the pipeline. Detection tasks produce bounding boxes that mark where objects are located. Classification tasks produce labels that describe attributes - for instance, vehicle color classification outputs color information like \"red\" or \"blue\". The pipeline-end task is unique because it's the final node and doesn't produce any output.\n\n**EXECUTION FLOW RULES**:\n\nNow let's talk about how tasks connect and execute in the pipeline. Understanding these rules is crucial for building valid task execution graphs.\n\n1. **Pipeline Structure**:\n   Every valid pipeline must have a clear beginning and end. The source node is always your starting point - it's where data enters the system. The pipeline-end node is always your final node - it collects all the results and marks completion. Between these two endpoints, your tasks must form a Directed Acyclic Graph (DAG), which means data flows in one direction only and never loops back on itself. You cannot have circular dependencies where Task A depends on Task B, and Task B depends on Task A.\n\n2. **Task Dependencies**:\n   Tasks execute based on their dependencies. A task cannot start until all its upstream tasks have completed successfully. For example, if you want to detect faces and classify gender, the gender classification task must wait for both object detection (to find people) and face detection (to locate faces) to finish first. However, when multiple tasks share the same upstream dependencies and don't depend on each other, they can run in parallel to save time. For instance, once you've detected faces, you can simultaneously run gender classification, age classification, and emotion classification since they all just need face bounding boxes and don't depend on each other's results. Finally, the pipeline-end node serves as the collection point - it must list every terminal task (tasks that no other task depends on) in its upstream dependencies to ensure nothing is left hanging.\n\n3. **Input-Output Matching**:\n   The most important rule is that a task's input requirements must be satisfied by an upstream task's output. Think of it like connecting puzzle pieces - they need to fit together. Let me give you some concrete examples: If you want to detect faces, the face detection task requires person bounding boxes as input. This means you need an upstream task that outputs person bounding boxes, which would be the object-detection-general task. Similarly, if you want to classify gender, the gender-classification task needs face bounding boxes as input, so it must depend on the face-detection task which produces exactly that output. Another example: to classify vehicle colors, you need vehicle bounding boxes, so vehicle-color-classification must come after object-detection-general which detects vehicles. The chain continues: to detect license plates, you need vehicle bounding boxes first, then the vehicle-plate-detection task can locate the plates on those vehicles.\n\n**OUTPUT REQUIREMENTS**:\n\nNow that you understand the available tasks and how they connect, let's talk about the output format you need to produce. You will see few-shot examples below that demonstrate the exact output format you should follow. Your output must adhere to these requirements:\n- Return ONLY a JSON array of task objects, with no additional text or explanations outside the array\n- Each task must have exactly 6 fields: id, inputs_from_upstreams, upstreams, outputs_for_downstreams, downstreams, and sample-reasoning. The sample-reasoning field is REQUIRED and must be an object (dictionary) where keys are task IDs from the downstreams array (MANDATORY - you must explain why you chose each downstream task). The values are strings explaining your decision-making process, including why you chose certain downstream tasks, why you excluded others (especially important in special scenarios), and references to specific parts of the scenario description. Do NOT include a \"general\" key - only use task IDs from the downstreams array as keys.\n- Do not include any explanatory text, comments, or markdown formatting - just the raw JSON array\n- If the scenario cannot be parsed, is unclear, or is invalid, simply return an empty array []\n\nBelow are examples demonstrating how to construct task pipelines from scenario descriptions. Understanding the relationship between input scenarios and output task pipelines is crucial for successfully generating computer vision task execution graphs.\n\n**UNDERSTANDING THE INPUT-OUTPUT RELATIONSHIP**:\n\nThink of this as a translation task. You receive a scenario that describes a visual scene (the INPUT), and you need to generate a structured task pipeline (the OUTPUT) that processes that scene effectively. The scenario field is what you analyze, and the tasks field is what you produce based on that analysis.\n\n**INPUT FORMAT - The Scenario**:\n\nWhen you receive a scenario, it contains a single key field that guides your task selection:\n\n**sample-description** (string): This provides a detailed narrative description of the scene and what's happening. It tells you what objects are present in the scene (e.g., cars, trucks, people, fire) and gives you context about the situation - whether it's normal, an emergency, an accident, or something else. For instance, if the description mentions \"A fire is burning\", that indicates an emergency and you should include fire detection. If it says \"People engaged in physical altercation\", that's a fight scenario where emotion classification would be unreliable and should be excluded. If someone is \"lying motionless on ground\", that indicates potential injury and you should include pose detection. The context from this description determines which tasks are relevant and which should be excluded. You should infer what objects are present from the description itself.\n\n**OUTPUT FORMAT - The Tasks**:\n\nWhen you construct the task pipeline, each task must have exactly 6 required fields. Let me explain what each field means and how to use it:\n\n1. **id** (string): This is the task type identifier that you select from the available task types list. It must be one of the exact task IDs provided earlier, such as \"source\", \"object-detection-general\", \"face-detection\", or \"pipeline-end\".\n\n2. **inputs_from_upstreams** (array of strings): This semantically describes what type of data this task receives as input. It tells you what data flows into this task and must match the \"outputs_for_downstreams\" of the upstream tasks that feed into it. For example, the source task has [\"none\"] because it's the entry point, the first processing task typically has [\"image\"] from the source, and face detection would have [\"person bounding boxes\"] from object detection.\n\n3. **upstreams** (array of strings): This lists the specific task IDs that must complete before this task can run. It defines which tasks this task depends on and determines the execution order in the DAG. For instance, source has [\"none\"], object detection has [\"source\"], and face detection has [\"object-detection-general\"].\n\n4. **outputs_for_downstreams** (array of strings): This semantically describes what type of data this task produces. It tells you what data flows out of this task and must match the \"inputs_from_upstreams\" of any downstream tasks that consume its output. For example, source outputs [\"image\"], object detection outputs [\"bounding boxes\"], and face detection outputs [\"face bounding boxes\"].\n\n5. **downstreams** (array of strings): This lists the specific task IDs that will run after this task completes. It defines which tasks depend on this task's output and determines the execution flow in the DAG. For instance, the source task might have [\"object-detection-general\"], and face detection might have [\"gender-classification\", \"face-recognition\"].\n\n6. **sample-reasoning** (object/dictionary): This field explains your decision-making process. It must be an object (dictionary) where keys are task IDs from the downstreams array (MANDATORY - you must explain why you chose each downstream task). The values are strings explaining why you chose certain downstream tasks, why you excluded others (especially important in special scenarios), and references to specific parts of the scenario description. This field is REQUIRED in your output - you must include it for each task with meaningful explanations that demonstrate your understanding of the scenario and your reasoning for task selection. Do NOT include a \"general\" key - only use task IDs from the downstreams array as keys.\n\nNow let's look at examples across different scenario types. Each example shows the scenario input, the corresponding task pipeline output, and an analysis explaining the key decisions.\n\n**EXAMPLE 1 - Business Normal**:\n\nScenario:\n{\n  \"sample-description\": \"A quiet street with several parked scooters and motorcycles, no people visible, and the shops have closed shutters.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"In a normal business setting, even when there are no activities (e.g., shop is closed), detecting humans is important for security surveillance (e.g., against trespassing or vandalism).\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"face-detection\": \"In a normal business scene, even when there are no ones present (e.g., closed shop), detecting faces can help monitor for unauthorized access or security breaches.\", \"cloth-color-classification\": \"In a normal business, even when there are no ones present (e.g., closed shop), classifying clothing colors can assist in identifying potential intruders or unauthorized personnel.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"emotion-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"In a normal scene, even when there are no ones present, determining gender from detected faces can help monitor for unauthorized access or security breaches.\", \"emotion-classification\": \"In a normal scene, even when there are no ones present, analyzing facial expressions can help monitor for unauthorized access or security breaches.\", \"face-recognition\": \"In a normal scene, even when there are no ones present, identifying individuals can help monitor for unauthorized access or security breaches.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"emotion-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"emotion labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"emotion-classification\", \"face-recognition\", \"cloth-color-classification\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for business normal scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 2 - Business With Fight**:\n\nScenario:\n{\n  \"sample-description\": \"Inside a busy restaurant, two individuals are engaged in a physical altercation, with one person grabbing the other by the collar. Other patrons are seated at tables, dining and conversing.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a fight, detecting humans in business settings to ensure safety and security.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a fight, detecting faces is important for identifying individuals involved in the altercation.\", \"cloth-color-classification\": \"Since there is an altercation, classifying clothing colors to better recognize and identify individuals.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"Since there is a fight, determining gender is important for security and safety measures.\", \"face-recognition\": \"Since there is a fight in the scene, identifying individuals is crucial for security and emergency response.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"human-pose-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"pose key points\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"face-recognition\", \"cloth-color-classification\", \"human-pose-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for business with fight scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 3 - Business With Fire**:\n\nScenario:\n{\n  \"sample-description\": \"Inside a Tokyo Diner in London, flames and thick smoke are billowing out from a window of a building adjacent to the diner. Patrons are seated at tables, engaging in conversations and dining.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\", \"fire-detection\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a fire, object-detection-general is crucial for safety and emergency response.\", \"fire-detection\": \"Since there is a fire, fire detection is crucial to identify and respond to the emergency situation.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a fire, detecting faces is important for identifying individuals in the emergency situation.\", \"cloth-color-classification\": \"Since there is a fire, classifying clothing colors to better recognize and identify individuals.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"Since there is a fire, determining gender is important for evacuation and safety measures.\", \"face-recognition\": \"Since there is a fire in the scene, identifying individuals is crucial for security and emergency response.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"fire-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"fire and smoke bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"face-recognition\", \"cloth-color-classification\", \"fire-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for business with fire scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 4 - Business With Human Fall**:\n\nScenario:\n{\n  \"sample-description\": \"Inside a Tokyo Diner in London, a person is lying on the floor, appearing to be unconscious. Patrons are seated at tables, eating and interacting.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"When there is a person lying on the floor, detecting humans in business settings to ensure safety.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\", \"human-pose-detection\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a person lying on the ground, detecting faces is important for identifying individuals in the emergency situation.\", \"cloth-color-classification\": \"Since there is a person lying on the ground, classifying clothing colors to better recognize and identify individuals.\", \"human-pose-detection\": \"Since there is a person lying on the ground, appearing to be unconscious, human pose detection is crucial to identify such unusual activities.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"Since there is a person lying on the ground, determining gender from detected faces is important for security and safety.\", \"face-recognition\": \"Since there is a person lying on the ground, identifying individual faces is important for security and personalized services.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"human-pose-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"pose key points\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"face-recognition\", \"cloth-color-classification\", \"human-pose-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for business with human fall scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 5 - Campus Normal**:\n\nScenario:\n{\n  \"sample-description\": \"A person is walking on a paved pathway with herringbone patterns, casting long shadows due to the sun's position. The area appears to be a public space with trees and barriers in the background.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"In a normal campus scene, detecting humans and vehicles is essential for ensuring safety and monitoring student behavior.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-make-classification\"],\n    \"sample-reasoning\": {\"face-detection\": \"In a normal campus scene, detecting faces helps in campus scenes to analyze student demographics and behaviors.\", \"cloth-color-classification\": \"In a normal campus scene, classifying clothing colors helps to better recognize and identify individuals.\", \"vehicle-color-classification\": \"In a normal campus scene, classifying vehicle colors helps parking management and security purposes.\", \"vehicle-make-classification\": \"In a normal campus scene, identifying vehicle makes helps parking enforcement and security monitoring.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"emotion-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"In a normal campus scene, determining gender from detected faces is important for security and student analysis.\", \"emotion-classification\": \"In a normal campus scene, Analyzing facial expressions is important for security and student well-being.\", \"face-recognition\": \"In a normal campus scene, Identifying individuals is important for security and student safety.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"emotion-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"emotion labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"In a normal campus scene, detecting the license plate provides a complete record for parking management and security.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"emotion-classification\", \"face-recognition\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-plate-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for campus normal scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 6 - Campus With Fight**:\n\nScenario:\n{\n  \"sample-description\": \"On a paved path bordered by trees and buildings, a group of people are gathered around a car, with some appearing distressed or in confrontation.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a fight, detecting objects in the scene is the first step to identify relevant entities such as people and vehicles.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-make-classification\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a fight, detecting faces is important for identifying individuals involved in the altercation.\", \"cloth-color-classification\": \"Since there is an altercation, classifying clothing colors to better recognize and identify individuals.\", \"vehicle-color-classification\": \"Since there is a fight, classifying vehicle colors is important for security purposes.\", \"vehicle-make-classification\": \"Since there is a fight, identifying vehicle makes is important for security monitoring.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Since there is a fight, detecting the license plate after identifying the vehicle's make provides a complete record for security.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"human-pose-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"pose key points\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"face-recognition\", \"human-pose-detection\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-plate-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for campus with fight scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 7 - Campus With Fire**:\n\nScenario:\n{\n  \"sample-description\": \"On a normal university campus scene, students are walking on sidewalks while a person rides a bicycle nearby. Flames and smoke are rising from an excavator at a construction site.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\", \"fire-detection\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a fire in the scene, detecting humans and vehicles on campus is important for safety monitoring and emergency response.\", \"fire-detection\": \"Since there is a fire in the scene, detecting the fire's location and intensity is crucial for emergency response.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-make-classification\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a fire, detecting faces is important for identifying individuals in the emergency situation.\", \"cloth-color-classification\": \"Since there is a fire, classifying clothing colors is important to better recognize and identify individuals.\", \"vehicle-color-classification\": \"Since there is a fire, classifying vehicle colors is important for parking management and security purposes.\", \"vehicle-make-classification\": \"Since there is a fire, identifying vehicle makes is important for parking enforcement and security monitoring.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"Since there is a fire, determining gender is important for evacuation and safety measures.\", \"face-recognition\": \"Since there is a fire in the scene, identifying individuals is crucial for security and emergency response.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"fire-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"fire and smoke bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"face-recognition\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-plate-detection\", \"fire-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for campus with fire scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 8 - Campus With Human Fall**:\n\nScenario:\n{\n  \"sample-description\": \"On a normal university campus scene with students walking on sidewalks, a person is lying motionless on the grass. Nearby, someone is riding a bicycle.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a person lying motionless, detecting humans is crucial for emergency response and safety analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"face-detection\", \"cloth-color-classification\", \"vehicle-color-classification\", \"vehicle-make-classification\", \"human-pose-detection\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a person lying motionless on the grass, detecting faces is important for identifying individuals in the emergency situation.\", \"cloth-color-classification\": \"Since there is a person lying motionless, classifying clothing colors to better recognize and identify individuals.\", \"vehicle-color-classification\": \"Since there is a person lying motionless on the grass, classifying vehicle colors for parking management and security purposes.\", \"vehicle-make-classification\": \"Since there is a person lying motionless on the grass, identifying vehicle makes for parking enforcement and security monitoring.\", \"human-pose-detection\": \"Since there is a person lying motionless on the grass, human pose detection is crucial to identify such unusual activities.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"gender-classification\", \"face-recognition\"],\n    \"sample-reasoning\": {\"gender-classification\": \"Since there is a person lying motionless on the grass, determining gender is important for emergency response and safety measures.\", \"face-recognition\": \"Since there is a person lying motionless on the grass, identifying individuals is crucial for security and emergency response.\"}\n  },\n  {\n    \"id\": \"gender-classification\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"gender labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"face-recognition\",\n    \"inputs_from_upstreams\": [\"face bounding boxes\"],\n    \"upstreams\": [\"face-detection\"],\n    \"outputs_for_downstreams\": [\"identity labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Since there is a person lying motionless on the grass, detecting the license plate provides a complete record for safety purposes and incident documentation.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"human-pose-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"pose key points\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"gender-classification\", \"face-recognition\", \"cloth-color-classification\", \"vehicle-color-classification\", \"human-pose-detection\", \"vehicle-plate-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for campus with human fall scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 9 - Factory Normal**:\n\nScenario:\n{\n  \"sample-description\": \"A normal factory floor with workers performing tasks at designated workstations or operating machinery. People are walking in marked pedestrian walkways. Vehicles (e.g., forklifts, AMRs) move in designated lanes. Materials and equipment are staged in appropriate, marked areas. The environment is free of fire, smoke, physical altercations, and fallen persons.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\", \"equipment-detection\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"In a normal factory setting, detecting objects is crucial for ensuring safety and operational efficiency.\", \"equipment-detection\": \"In a normal factory setting, detecting equipment is essential for monitoring usage and ensuring safety protocols are followed.\"}\n  },\n  {\n    \"id\": \"equipment-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"equipment bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"protective-gear-detection\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"protective-gear-detection\": \"In a normal factory setting, detecting protective gear is crucial for ensuring worker safety compliance.\", \"cloth-color-classification\": \"In a normal factory setting, classifying clothing colors is crucial to better recognize and identify individuals.\"}\n  },\n  {\n    \"id\": \"protective-gear-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"protective gear bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"protective-gear-detection\", \"cloth-color-classification\", \"equipment-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for factory normal scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 10 - Factory With Fight**:\n\nScenario:\n{\n  \"sample-description\": \"On a normal factory floor, two individuals are engaged in aggressive physical contact near a counter, involving punches and shoving. Nearby, other workers are operating machinery and walking in marked pedestrian walkways. A forklift is moving pallets in a designated lane.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\", \"equipment-detection\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a fight, detecting objects is crucial for ensuring safety.\", \"equipment-detection\": \"Since there is a fight, detecting equipment is essential for monitoring safety protocols.\"}\n  },\n  {\n    \"id\": \"equipment-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"equipment bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"protective-gear-detection\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"protective-gear-detection\": \"Since there is a fight, detecting protective gear is crucial to ensure worker safety.\", \"cloth-color-classification\": \"Since there is a fight, classifying clothing colors is crucial to better recognize and identify individuals.\"}\n  },\n  {\n    \"id\": \"protective-gear-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"protective gear bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"protective-gear-detection\", \"cloth-color-classification\", \"equipment-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for factory with fight scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 11 - Factory With Human Fall**:\n\nScenario:\n{\n  \"sample-description\": \"In a warehouse with shelves and equipment in the background, a large fire is engulfing a building, with flames and thick black smoke billowing out. Firefighters are actively spraying water on the fire.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\", \"equipment-detection\", \"fire-detection\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Since there is a fire, object-detection-general is crucial for safety and emergency response.\", \"equipment-detection\": \"Since there is a fire, equipment-detection is crucial for monitoring safety protocols.\", \"fire-detection\": \"Since there is a fire, fire detection is crucial to identify and respond to the emergency situation.\"}\n  },\n  {\n    \"id\": \"equipment-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"equipment bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"protective-gear-detection\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"protective-gear-detection\": \"Since there is a fire, detecting protective gear is crucial to ensure worker safety.\", \"cloth-color-classification\": \"Since there is a fire, classifying clothing colors is crucial to better recognize and identify individuals.\"}\n  },\n  {\n    \"id\": \"protective-gear-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"protective gear bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"fire-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"fire and smoke bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"protective-gear-detection\", \"cloth-color-classification\", \"fire-detection\", \"equipment-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for factory with human fall scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 12 - Traffic With Accident**:\n\nScenario:\n{\n  \"sample-description\": \"A white car has collided with a bicycle, causing the cyclist to fall onto the road. The cyclist is lying on the ground near the bicycle. Vehicles are moving along their respective lanes, and pedestrians are walking on the sidewalks.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"Detecting vehicles and humans on the road for traffic monitoring and analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"vehicle-damage-detection\", \"vehicle-color-classification\", \"vehicle-make-classification\", \"cloth-color-classification\", \"human-pose-detection\"],\n    \"sample-reasoning\": {\"vehicle-damage-detection\": \"Since there is a traffic accident, vehicle damage detection is included to assess the extent of damages.\", \"vehicle-color-classification\": \"Since there is a traffic accident, vehicle color classification is included for better identification of involved vehicles.\", \"vehicle-make-classification\": \"Since there is a traffic accident, vehicle make classification is included for better identification of involved vehicles.\", \"cloth-color-classification\": \"Since there are humans present, cloth color classification is included to better recognize and identify individuals.\", \"human-pose-detection\": \"Since there are humans present in the accident, human pose detection is included to monitor involved individuals and ensure pedestrian safety.\"}\n  },\n  {\n    \"id\": \"vehicle-damage-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"damage bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Since there is a traffic accident, further analyzing vehicles by detecting their license plates for law enforcement and traffic monitoring.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"face-detection\"],\n    \"sample-reasoning\": {\"face-detection\": \"Further analyzing humans by detecting faces for identification and monitoring.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"cloth-color-classification\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"human-pose-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"pose key points\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"vehicle-damage-detection\", \"vehicle-color-classification\", \"vehicle-plate-detection\", \"face-detection\", \"human-pose-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for traffic with accident scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 13 - Traffic With Fight**:\n\nScenario:\n{\n  \"sample-description\": \"On a quiet urban street with various shops and pedestrians walking along the sidewalk, a group of people are engaged in a physical altercation; one individual is on the ground while others stand around them. Vehicles are parked or moving slowly nearby.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"helps Detecting vehicles and humans on the road for traffic monitoring and analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"vehicle-color-classification\", \"vehicle-make-classification\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"vehicle-color-classification\": \"Since there are humans involved in a fight, classifying vehicle colors is important for emergency response and identification.\", \"vehicle-make-classification\": \"Since there are humans involved in a fight, identifying vehicle makes is important for emergency response and identification.\", \"cloth-color-classification\": \"Since there are humans involved in a fight, classifying clothing colors is important for recognizing and identifying individuals.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Since there is a fight, further analyzing vehicles by detecting their license plates for identification and monitoring.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"face-detection\"],\n    \"sample-reasoning\": {}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"cloth-color-classification\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"human-pose-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"pose key points\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"vehicle-color-classification\", \"vehicle-plate-detection\", \"face-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for traffic with fight scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 14 - Traffic With Fire**:\n\nScenario:\n{\n  \"sample-description\": \"In a typical urban intersection with multiple vehicles, including a red car and a white car, and a bicycle moving according to traffic signals, a large fire is burning in a vehicle. Flames and smoke are billowing out, and two firefighters are actively using hoses to extinguish the blaze.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\", \"fire-detection\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"helps Detecting vehicles and humans on the road for traffic monitoring and analysis.\", \"fire-detection\": \"Since fire incidents can escalate quickly, fire detection is crucial for timely emergency response and safety monitoring.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"vehicle-color-classification\", \"vehicle-make-classification\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"vehicle-color-classification\": \"Since there is a fire incident, classifying vehicle colors is important for emergency response and identification.\", \"vehicle-make-classification\": \"Since there is a fire incident, identifying vehicle makes is important for emergency response and identification.\", \"cloth-color-classification\": \"Since there is a fire incident, classifying clothing colors is important for recognizing and identifying individuals.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Since there is a fire incident, further analyzing vehicles by detecting their license plates for identification and monitoring.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"face-detection\"],\n    \"sample-reasoning\": {\"face-detection\": \"Since there is a fire incident, further analyzing humans by detecting faces for identification and monitoring.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"cloth-color-classification\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"fire-detection\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"fire and smoke bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after fire detection analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"vehicle-color-classification\", \"vehicle-plate-detection\", \"face-detection\", \"fire-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for traffic with fire scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 15 - Traffic With Humans**:\n\nScenario:\n{\n  \"sample-description\": \"A roundabout with multiple lanes of traffic, including cars and a bicycle, moving smoothly around a central island with trees and benches. Pedestrians are walking on sidewalks and crossing at intersections.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"In a normal traffic scenario, detecting vehicles and humans on the road for traffic monitoring and analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"vehicle-color-classification\", \"vehicle-make-classification\", \"cloth-color-classification\"],\n    \"sample-reasoning\": {\"vehicle-color-classification\": \"In a normal traffic scenario, classifying vehicle colors is important for traffic analysis and management.\", \"vehicle-make-classification\": \"In a normal traffic scenario, identifying vehicle makes is important for traffic monitoring and law enforcement.\", \"cloth-color-classification\": \"In a normal traffic scenario, classifying clothing colors is important for recognizing and identifying human subjects.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Further analyzing vehicles by detecting their license plates for law enforcement and traffic monitoring.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"cloth-color-classification\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"cloth color labels\"],\n    \"downstreams\": [\"face-detection\"],\n    \"sample-reasoning\": {\"face-detection\": \"Further analyzing humans by detecting faces for identification and monitoring.\"}\n  },\n  {\n    \"id\": \"face-detection\",\n    \"inputs_from_upstreams\": [\"person bounding boxes\"],\n    \"upstreams\": [\"cloth-color-classification\"],\n    \"outputs_for_downstreams\": [\"face bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"vehicle-color-classification\", \"vehicle-plate-detection\", \"face-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for traffic with humans scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n**EXAMPLE 16 - Traffic With No Humans**:\n\nScenario:\n{\n  \"sample-description\": \"A multi-lane highway with several cars traveling in different lanes. The road is clear of debris and pedestrians are not visible.\"\n}\n\nTasks:\n[\n  {\n    \"id\": \"source\",\n    \"inputs_from_upstreams\": [\"none\"],\n    \"upstreams\": [\"none\"],\n    \"outputs_for_downstreams\": [\"image\"],\n    \"downstreams\": [\"object-detection-general\"],\n    \"sample-reasoning\": {\"object-detection-general\": \"In a normal traffic scenario without pedestrians, detecting vehicles on the road for traffic monitoring and analysis.\"}\n  },\n  {\n    \"id\": \"object-detection-general\",\n    \"inputs_from_upstreams\": [\"image\"],\n    \"upstreams\": [\"source\"],\n    \"outputs_for_downstreams\": [\"bounding boxes\"],\n    \"downstreams\": [\"vehicle-color-classification\", \"vehicle-make-classification\"],\n    \"sample-reasoning\": {\"vehicle-color-classification\": \"In a normal traffic scenario without humans, classifying vehicle colors is important for traffic analysis and management.\", \"vehicle-make-classification\": \"In a normal traffic scenario without humans, identifying vehicle makes is important for traffic monitoring and law enforcement.\"}\n  },\n  {\n    \"id\": \"vehicle-color-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle color labels\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after analysis.\"}\n  },\n  {\n    \"id\": \"vehicle-make-classification\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"object-detection-general\"],\n    \"outputs_for_downstreams\": [\"vehicle make labels\"],\n    \"downstreams\": [\"vehicle-plate-detection\"],\n    \"sample-reasoning\": {\"vehicle-plate-detection\": \"Detecting the license plate after identifying the vehicle's make provides a complete record for law enforcement and traffic monitoring.\"}\n  },\n  {\n    \"id\": \"vehicle-plate-detection\",\n    \"inputs_from_upstreams\": [\"vehicle bounding boxes\"],\n    \"upstreams\": [\"vehicle-make-classification\"],\n    \"outputs_for_downstreams\": [\"license plate bounding boxes\"],\n    \"downstreams\": [\"pipeline-end\"],\n    \"sample-reasoning\": {\"pipeline-end\": \"Finalizing the pipeline after license plate detection.\"}\n  },\n  {\n    \"id\": \"pipeline-end\",\n    \"inputs_from_upstreams\": [\"various task outputs\"],\n    \"upstreams\": [\"vehicle-plate-detection\"],\n    \"outputs_for_downstreams\": [\"none\"],\n    \"downstreams\": [],\n    \"sample-reasoning\": {}\n  }\n]\n\nAnalysis:\nThis example demonstrates task pipeline construction for traffic with no humans scenarios. The pipeline shows appropriate task selection based on the scenario description, with proper dependencies and data flow.\n\n\nGiven the following scenario, generate a complete task execution pipeline.\n\nScenario:\n{\n  \"sample-description\": \"A normal scene inside a Tokyo Diner in London, UK, with tables and chairs arranged neatly, and no people or pets visible. There are no signs of aggression, physical altercations, or unusual activities.\"\n}\n\nBased on the objects present and the scene description, construct a task pipeline (DAG) that:\n1. Starts with the \"source\" node\n2. Includes all necessary processing tasks from the available task types\n3. Ends with the \"pipeline-end\" node\n4. Has proper dependencies (follow the dependency guidelines and data flow patterns)\n\nIMPORTANT: You must include exactly 6 fields per task, matching the format shown in the examples above. Include these fields: id, inputs_from_upstreams, upstreams, outputs_for_downstreams, downstreams, and sample-reasoning. The sample-reasoning field is REQUIRED and must be an object (dictionary) where keys are task IDs from the downstreams array (MANDATORY - you must explain why you chose each downstream task). The values are strings explaining your decision-making process, including why you chose certain downstream tasks, why you excluded others, and references to specific parts of the scenario description. Do NOT include a \"general\" key - only use task IDs from the downstreams array as keys.\n\nOutput ONLY the JSON array with no additional text:\n["
    }
  ]
}